## 📚 Smash Docs: How Documentation is Generated

Smash treats documentation the same way it treats everything else:  
🧱 **Local**, ✨ **predictable**, 🤖 **LLM-friendly**, and 💡 **explicit**.

This file explains how the `docs/` folder is generated from structured content in `content/`, and how to organize, extend, and reason about it.

---

## 📁 Folder Structure

### Source: `content/`

Smashlets and content files live here.

```plaintext
content/
└── todo/
    ├── backlog/                # Source markdown tasks
    ├── done/                   # Completed tasks
    ├── smashlet.py             # Renders docs/TODO.md
```

### Output: `docs/`

All generated documentation is written here.

```plaintext
docs/
├── TODO.md                    # From todo/backlog/*.md
├── context.md                # How context injection works
├── files.md                  # File tree overview (optional)
├── signatures.md             # Public API surface (optional)
```

---

## 🛠 How it works

- Each `content/**/smashlet.py` defines a transformation
- Smash discovers these files and executes them if inputs have changed
- Outputs are written to `docs/` via `OUTPUT_DIR = "../../docs"`

This is **transparent** and **repeatable** — the structure itself defines the docs.

---

## 💡 Guidelines for Adding New Docs

When creating a new generated doc:

| Rule                                | Why it matters                          |
| ----------------------------------- | --------------------------------------- |
| Use `content/<name>/smashlet.py`    | Keeps logic near its source             |
| Use `INPUT_GLOB` to gather content  | Triggers rebuilds on change             |
| Set `OUTPUT_DIR = "../../docs"`     | Always write to `docs/` for consistency |
| Write readable, structured Markdown | LLMs and devs consume this equally      |

---

## 🧪 Example Smashlet: Generating TODO.md

```python
# content/todo/smashlet.py
INPUT_GLOB = "backlog/*.md"
OUTPUT_DIR = "../../docs"

def run(context):
    ...
    Path(OUTPUT_DIR).write_text(markdown_string)
```

---

## ✅ What Should Be in `docs/`

| File            | Purpose                                |
| --------------- | -------------------------------------- |
| `TODO.md`       | Project tasks from `backlog/`          |
| `context.md`    | How context injection works            |
| `files.md`      | Overview of file structure and purpose |
| `signatures.md` | Function signatures / API reference    |

---

## 🚫 What Should NOT Be in `docs/`

- Hand-edited files (unless versioned side-by-side)
- Large code examples (use references)
- Anything dependent on runtime environment

---

## 🤖 LLM-Friendly Goals

These docs are designed to be easily read and regenerated by LLMs. That means:

- Predictable filenames
- One purpose per file
- Consistent headings
- Avoiding dynamic code execution or side effects

---

## 📦 Future Ideas

- Add a `docs/index.md` that links to all generated docs
- Allow Smashlets to write `.html` versions for rendering
- Auto-version docs with Git metadata
